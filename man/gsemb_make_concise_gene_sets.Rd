% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/concise.R
\name{gsemb_make_concise_gene_sets}
\alias{gsemb_make_concise_gene_sets}
\title{Create concise gene sets from embeddings}
\usage{
gsemb_make_concise_gene_sets(
  gene_embedding,
  set_mu,
  set_var,
  gene_sets = NULL,
  top_n = 50,
  select = c("top_n", "softmax_mass", "quantile", "score_threshold"),
  mass = 0.8,
  temperature = 1,
  quantile = 0.9,
  score_threshold = NULL,
  restrict_to_members = TRUE,
  min_size = 5,
  max_size = 500,
  score = c("loglik", "neg_mahalanobis"),
  eps = 1e-08
)
}
\arguments{
\item{gene_embedding}{Numeric matrix of gene embeddings (genes in rows).}

\item{set_mu}{Numeric matrix of set means (sets in rows).}

\item{set_var}{Numeric matrix of set diagonal variances (same shape as `set_mu`).}

\item{gene_sets}{Optional named list of character vectors, used when restricting
candidates to original members.}

\item{top_n}{Number of genes when `select="top_n"`.}

\item{select}{Selection strategy: `"top_n"`, `"softmax_mass"`, `"quantile"`, or `"score_threshold"`.}

\item{mass}{Softmax cumulative mass to cover when `select="softmax_mass"`.}

\item{temperature}{Softmax temperature when `select="softmax_mass"`.}

\item{quantile}{Quantile threshold when `select="quantile"`.}

\item{score_threshold}{Score cutoff when `select="score_threshold"`.}

\item{restrict_to_members}{Logical; restrict candidate genes to `gene_sets[[set]]`.}

\item{min_size}{Minimum size of each output set.}

\item{max_size}{Maximum size of each output set.}

\item{score}{Scoring function passed to `gsemb_gene_to_set_score`.}

\item{eps}{Lower bound for variances.}
}
\value{
A named list of concise gene sets (character vectors).
}
\description{
Rank candidate genes by their score to each set's Gaussian embedding and
select a subset according to a selection rule.
}
